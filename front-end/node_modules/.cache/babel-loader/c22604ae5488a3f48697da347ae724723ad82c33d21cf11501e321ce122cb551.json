{"ast":null,"code":"const fetchProPublicaMemberData=async()=>{const apiUrl=\"\".concat(process.env.REACT_APP_API_URL,\"/api/pro_publica/ids\");try{const response=await fetch(apiUrl);if(!response.ok){throw new Error(\"HTTP error. Status: \".concat(response.status));}return await response.json();}catch(error){console.error('Error fetching member data:',error);throw error;}};const findMatchingMember=(data,repDistrict,repState)=>{console.log(\"DATA\",data);console.log(\"STATE\",repState);console.log(\"DISTRICT\",repDistrict);let filteredMembers=data.results[0].members.filter(member=>member.state.toLowerCase()===repState.toLowerCase()&&String(member.district)===String(repDistrict));return filteredMembers.length>0?filteredMembers[0]:null;};const getProPublicaIds=async(repDistrict,repState)=>{try{const rawData=await fetchProPublicaMemberData();const matchingMember=findMatchingMember(rawData,repDistrict,repState);if(matchingMember){console.log('Matching member found:',matchingMember);return matchingMember;}else{console.log(\"No match found for state: \".concat(repState,\", district: \").concat(repDistrict));return null;}}catch(error){console.error('Error in getProPublicaIds:',error);return{error:true,message:error.message,data:null};}};export default getProPublicaIds;","map":{"version":3,"names":["fetchProPublicaMemberData","apiUrl","concat","process","env","REACT_APP_API_URL","response","fetch","ok","Error","status","json","error","console","findMatchingMember","data","repDistrict","repState","log","filteredMembers","results","members","filter","member","state","toLowerCase","String","district","length","getProPublicaIds","rawData","matchingMember","message"],"sources":["/Users/dbrainy/dev/clean rep radar/rep-radar/front-end/src/api/proPublicaIds.js"],"sourcesContent":["const fetchProPublicaMemberData = async () => {\n    const apiUrl = `${process.env.REACT_APP_API_URL}/api/pro_publica/ids`;\n\n    try {\n        const response = await fetch(apiUrl);\n        if (!response.ok) {\n            throw new Error(`HTTP error. Status: ${response.status}`);\n        }\n        return await response.json();\n    } catch (error) {\n        console.error('Error fetching member data:', error);\n        throw error;\n    }\n};\n\nconst findMatchingMember = (data, repDistrict, repState) => {\n    console.log(\"DATA\", data)\n    console.log(\"STATE\", repState)\n    console.log(\"DISTRICT\", repDistrict)\n\n    let filteredMembers = data.results[0].members.filter(member =>\n        member.state.toLowerCase() === repState.toLowerCase() &&\n        String(member.district) === String(repDistrict)\n    );\n\n    return filteredMembers.length > 0 ? filteredMembers[0] : null;\n};\n\nconst getProPublicaIds = async (repDistrict, repState) => {\n    try {\n        const rawData = await fetchProPublicaMemberData();\n        const matchingMember = findMatchingMember(rawData, repDistrict, repState);\n\n        if (matchingMember) {\n            console.log('Matching member found:', matchingMember);\n            return matchingMember;\n        } else {\n            console.log(`No match found for state: ${repState}, district: ${repDistrict}`);\n            return null;\n        }\n    } catch (error) {\n        console.error('Error in getProPublicaIds:', error);\n        return {\n            error: true,\n            message: error.message,\n            data: null\n        };\n    }\n};\n\nexport default getProPublicaIds;\n"],"mappings":"AAAA,KAAM,CAAAA,yBAAyB,CAAG,KAAAA,CAAA,GAAY,CAC1C,KAAM,CAAAC,MAAM,IAAAC,MAAA,CAAMC,OAAO,CAACC,GAAG,CAACC,iBAAiB,wBAAsB,CAErE,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACN,MAAM,CAAC,CACpC,GAAI,CAACK,QAAQ,CAACE,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,wBAAAP,MAAA,CAAwBI,QAAQ,CAACI,MAAM,CAAE,CAAC,CAC7D,CACA,MAAO,MAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAChC,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnD,KAAM,CAAAA,KAAK,CACf,CACJ,CAAC,CAED,KAAM,CAAAE,kBAAkB,CAAGA,CAACC,IAAI,CAAEC,WAAW,CAAEC,QAAQ,GAAK,CACxDJ,OAAO,CAACK,GAAG,CAAC,MAAM,CAAEH,IAAI,CAAC,CACzBF,OAAO,CAACK,GAAG,CAAC,OAAO,CAAED,QAAQ,CAAC,CAC9BJ,OAAO,CAACK,GAAG,CAAC,UAAU,CAAEF,WAAW,CAAC,CAEpC,GAAI,CAAAG,eAAe,CAAGJ,IAAI,CAACK,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAACC,MAAM,CAACC,MAAM,EACvDA,MAAM,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,GAAKR,QAAQ,CAACQ,WAAW,CAAC,CAAC,EACrDC,MAAM,CAACH,MAAM,CAACI,QAAQ,CAAC,GAAKD,MAAM,CAACV,WAAW,CAClD,CAAC,CAED,MAAO,CAAAG,eAAe,CAACS,MAAM,CAAG,CAAC,CAAGT,eAAe,CAAC,CAAC,CAAC,CAAG,IAAI,CACjE,CAAC,CAED,KAAM,CAAAU,gBAAgB,CAAG,KAAAA,CAAOb,WAAW,CAAEC,QAAQ,GAAK,CACtD,GAAI,CACA,KAAM,CAAAa,OAAO,CAAG,KAAM,CAAA9B,yBAAyB,CAAC,CAAC,CACjD,KAAM,CAAA+B,cAAc,CAAGjB,kBAAkB,CAACgB,OAAO,CAAEd,WAAW,CAAEC,QAAQ,CAAC,CAEzE,GAAIc,cAAc,CAAE,CAChBlB,OAAO,CAACK,GAAG,CAAC,wBAAwB,CAAEa,cAAc,CAAC,CACrD,MAAO,CAAAA,cAAc,CACzB,CAAC,IAAM,CACHlB,OAAO,CAACK,GAAG,8BAAAhB,MAAA,CAA8Be,QAAQ,iBAAAf,MAAA,CAAec,WAAW,CAAE,CAAC,CAC9E,MAAO,KAAI,CACf,CACJ,CAAE,MAAOJ,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CAClD,MAAO,CACHA,KAAK,CAAE,IAAI,CACXoB,OAAO,CAAEpB,KAAK,CAACoB,OAAO,CACtBjB,IAAI,CAAE,IACV,CAAC,CACL,CACJ,CAAC,CAED,cAAe,CAAAc,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}