{"ast":null,"code":"const fetchOpenSecretsIds=async url=>{const response=await fetch(url);if(!response.ok){throw new Error(\"HTTP error. Status: \".concat(response.status));}return response.json();};const getOpenSecretsId=async(repState,repId)=>{const apiUrl=\"\".concat(process.env.REACT_APP_API_URL,\"/api/open_secrets/ids/\").concat(repState);try{const data=await fetchOpenSecretsIds(apiUrl);for(let rep of data.response.legislator){if(rep['@attributes'].bioguide_id===repId){return{'repId':rep['@attributes'].cid};}}return{'repId':null};}catch(error){console.error('Error fetching data:',error);return{'repId':'','error':true,'errorMessage':error.message};}};export default getOpenSecretsId;","map":{"version":3,"names":["fetchOpenSecretsIds","url","response","fetch","ok","Error","concat","status","json","getOpenSecretsId","repState","repId","apiUrl","process","env","REACT_APP_API_URL","data","rep","legislator","bioguide_id","cid","error","console","message"],"sources":["/Users/dbrainy/dev/clean rep radar/rep-radar/front-end/src/api/openSecretsIds.js"],"sourcesContent":["const fetchOpenSecretsIds = async (url) => {\n    const response = await fetch(url);\n    if (!response.ok) {\n        throw new Error(`HTTP error. Status: ${response.status}`);\n    }\n    return response.json();\n};\n\nconst getOpenSecretsId = async (repState, repId) => {\n    const apiUrl = `${process.env.REACT_APP_API_URL}/api/open_secrets/ids/${repState}`;\n    try {\n        const data = await fetchOpenSecretsIds(apiUrl);\n        for (let rep of data.response.legislator) {\n            if (rep['@attributes'].bioguide_id === repId) {\n                return { 'repId': rep['@attributes'].cid };\n            }\n        }\n        return { 'repId': null };\n    } catch (error) {\n        console.error('Error fetching data:', error);\n        return {\n            'repId': '',\n            'error': true,\n            'errorMessage': error.message\n        };\n    }\n};\n\nexport default getOpenSecretsId;\n"],"mappings":"AAAA,KAAM,CAAAA,mBAAmB,CAAG,KAAO,CAAAC,GAAG,EAAK,CACvC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACF,GAAG,CAAC,CACjC,GAAI,CAACC,QAAQ,CAACE,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,wBAAAC,MAAA,CAAwBJ,QAAQ,CAACK,MAAM,CAAE,CAAC,CAC7D,CACA,MAAO,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAG,KAAAA,CAAOC,QAAQ,CAAEC,KAAK,GAAK,CAChD,KAAM,CAAAC,MAAM,IAAAN,MAAA,CAAMO,OAAO,CAACC,GAAG,CAACC,iBAAiB,2BAAAT,MAAA,CAAyBI,QAAQ,CAAE,CAClF,GAAI,CACA,KAAM,CAAAM,IAAI,CAAG,KAAM,CAAAhB,mBAAmB,CAACY,MAAM,CAAC,CAC9C,IAAK,GAAI,CAAAK,GAAG,GAAI,CAAAD,IAAI,CAACd,QAAQ,CAACgB,UAAU,CAAE,CACtC,GAAID,GAAG,CAAC,aAAa,CAAC,CAACE,WAAW,GAAKR,KAAK,CAAE,CAC1C,MAAO,CAAE,OAAO,CAAEM,GAAG,CAAC,aAAa,CAAC,CAACG,GAAI,CAAC,CAC9C,CACJ,CACA,MAAO,CAAE,OAAO,CAAE,IAAK,CAAC,CAC5B,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5C,MAAO,CACH,OAAO,CAAE,EAAE,CACX,OAAO,CAAE,IAAI,CACb,cAAc,CAAEA,KAAK,CAACE,OAC1B,CAAC,CACL,CACJ,CAAC,CAED,cAAe,CAAAd,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}