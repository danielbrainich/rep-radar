{"ast":null,"code":"const fetchProPublicaMemberData = async () => {\n  const apiUrl = `${process.env.REACT_APP_API_URL}/api/pro_publica/ids`;\n  try {\n    const response = await fetch(apiUrl);\n    if (!response.ok) {\n      throw new Error(`HTTP error. Status: ${response.status}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching member data:', error);\n    throw error;\n  }\n};\nconst findMatchingMember = (data, repDistrict, repState) => {\n  console.log(\"DATA\", data);\n  console.log(\"STATE\", repState);\n  console.log(\"DISTRICT\", repDistrict);\n  let filteredMembers = data.results[0].members.filter(member => member.state.toLowerCase() === repState.toLowerCase() && String(member.district) === String(repDistrict));\n  return filteredMembers.length > 0 ? filteredMembers[0] : null;\n};\nconst getProPublicaIds = async (repDistrict, repState) => {\n  try {\n    const rawData = await fetchProPublicaMemberData();\n    const matchingMember = findMatchingMember(rawData, repDistrict, repState);\n    if (matchingMember) {\n      console.log('Matching member found:', matchingMember);\n      return matchingMember;\n    } else {\n      console.log(`No match found for state: ${repState}, district: ${repDistrict}`);\n      return null;\n    }\n  } catch (error) {\n    console.error('Error in getProPublicaIds:', error);\n    return {\n      error: true,\n      message: error.message,\n      data: null\n    };\n  }\n};\nexport default getProPublicaIds;","map":{"version":3,"names":["fetchProPublicaMemberData","apiUrl","process","env","REACT_APP_API_URL","response","fetch","ok","Error","status","json","error","console","findMatchingMember","data","repDistrict","repState","log","filteredMembers","results","members","filter","member","state","toLowerCase","String","district","length","getProPublicaIds","rawData","matchingMember","message"],"sources":["/Users/dbrainy/dev/deployed-rep-radar/rep-radar/front-end/src/api/proPublicaIds.js"],"sourcesContent":["const fetchProPublicaMemberData = async () => {\n    const apiUrl = `${process.env.REACT_APP_API_URL}/api/pro_publica/ids`;\n\n    try {\n        const response = await fetch(apiUrl);\n        if (!response.ok) {\n            throw new Error(`HTTP error. Status: ${response.status}`);\n        }\n        return await response.json();\n    } catch (error) {\n        console.error('Error fetching member data:', error);\n        throw error;\n    }\n};\n\nconst findMatchingMember = (data, repDistrict, repState) => {\n    console.log(\"DATA\", data)\n    console.log(\"STATE\", repState)\n    console.log(\"DISTRICT\", repDistrict)\n\n    let filteredMembers = data.results[0].members.filter(member =>\n        member.state.toLowerCase() === repState.toLowerCase() &&\n        String(member.district) === String(repDistrict)\n    );\n\n    return filteredMembers.length > 0 ? filteredMembers[0] : null;\n};\n\nconst getProPublicaIds = async (repDistrict, repState) => {\n    try {\n        const rawData = await fetchProPublicaMemberData();\n        const matchingMember = findMatchingMember(rawData, repDistrict, repState);\n\n        if (matchingMember) {\n            console.log('Matching member found:', matchingMember);\n            return matchingMember;\n        } else {\n            console.log(`No match found for state: ${repState}, district: ${repDistrict}`);\n            return null;\n        }\n    } catch (error) {\n        console.error('Error in getProPublicaIds:', error);\n        return {\n            error: true,\n            message: error.message,\n            data: null\n        };\n    }\n};\n\nexport default getProPublicaIds;\n"],"mappings":"AAAA,MAAMA,yBAAyB,GAAG,MAAAA,CAAA,KAAY;EAC1C,MAAMC,MAAM,GAAI,GAAEC,OAAO,CAACC,GAAG,CAACC,iBAAkB,sBAAqB;EAErE,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACL,MAAM,CAAC;IACpC,IAAI,CAACI,QAAQ,CAACE,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAE,uBAAsBH,QAAQ,CAACI,MAAO,EAAC,CAAC;IAC7D;IACA,OAAO,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;EAChC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACnD,MAAMA,KAAK;EACf;AACJ,CAAC;AAED,MAAME,kBAAkB,GAAGA,CAACC,IAAI,EAAEC,WAAW,EAAEC,QAAQ,KAAK;EACxDJ,OAAO,CAACK,GAAG,CAAC,MAAM,EAAEH,IAAI,CAAC;EACzBF,OAAO,CAACK,GAAG,CAAC,OAAO,EAAED,QAAQ,CAAC;EAC9BJ,OAAO,CAACK,GAAG,CAAC,UAAU,EAAEF,WAAW,CAAC;EAEpC,IAAIG,eAAe,GAAGJ,IAAI,CAACK,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAACC,MAAM,CAACC,MAAM,IACvDA,MAAM,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,KAAKR,QAAQ,CAACQ,WAAW,CAAC,CAAC,IACrDC,MAAM,CAACH,MAAM,CAACI,QAAQ,CAAC,KAAKD,MAAM,CAACV,WAAW,CAClD,CAAC;EAED,OAAOG,eAAe,CAACS,MAAM,GAAG,CAAC,GAAGT,eAAe,CAAC,CAAC,CAAC,GAAG,IAAI;AACjE,CAAC;AAED,MAAMU,gBAAgB,GAAG,MAAAA,CAAOb,WAAW,EAAEC,QAAQ,KAAK;EACtD,IAAI;IACA,MAAMa,OAAO,GAAG,MAAM7B,yBAAyB,CAAC,CAAC;IACjD,MAAM8B,cAAc,GAAGjB,kBAAkB,CAACgB,OAAO,EAAEd,WAAW,EAAEC,QAAQ,CAAC;IAEzE,IAAIc,cAAc,EAAE;MAChBlB,OAAO,CAACK,GAAG,CAAC,wBAAwB,EAAEa,cAAc,CAAC;MACrD,OAAOA,cAAc;IACzB,CAAC,MAAM;MACHlB,OAAO,CAACK,GAAG,CAAE,6BAA4BD,QAAS,eAAcD,WAAY,EAAC,CAAC;MAC9E,OAAO,IAAI;IACf;EACJ,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD,OAAO;MACHA,KAAK,EAAE,IAAI;MACXoB,OAAO,EAAEpB,KAAK,CAACoB,OAAO;MACtBjB,IAAI,EAAE;IACV,CAAC;EACL;AACJ,CAAC;AAED,eAAec,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}