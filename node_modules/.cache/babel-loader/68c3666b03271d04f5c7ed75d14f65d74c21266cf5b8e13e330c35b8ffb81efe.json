{"ast":null,"code":"const fetchCivicInfoData=async url=>{const response=await fetch(url);if(!response.ok){throw new Error(\"HTTP error. Status: \".concat(response.status));}return response.json();};const reshapeCivicInfoData=data=>{function extractDistrictNumber(inputString){const cdSection=inputString.split(\"cd:\");if(cdSection.length===2){return parseInt(cdSection[1],10);}else if(!inputString.includes(\"cd:\")){return\"At-Large\";}return null;}return{representative:{name:data.officials[0].name,party:data.officials[0].party,urls:data.officials[0].urls,channels:data.officials[0].channels,office:data.offices[0].name,district:extractDistrictNumber(data.offices[0].divisionId),state:data.normalizedInput.state}};};const getCivicInfoData=async address=>{try{const data=await fetchCivicInfoData(\"\".concat(process.env.REACT_APP_API_URL,\"/api/civic_info/\").concat(address));return reshapeCivicInfoData(data);}catch(error){console.error('Error fetching data:',error);return{representative:{},error:true,errorMessage:error.message};};};export default getCivicInfoData;","map":{"version":3,"names":["fetchCivicInfoData","url","response","fetch","ok","Error","concat","status","json","reshapeCivicInfoData","data","extractDistrictNumber","inputString","cdSection","split","length","parseInt","includes","representative","name","officials","party","urls","channels","office","offices","district","divisionId","state","normalizedInput","getCivicInfoData","address","process","env","REACT_APP_API_URL","error","console","errorMessage","message"],"sources":["/Users/dbrainy/dev/clean rep radar/rep-radar/front-end/src/api/civicInfo.js"],"sourcesContent":["const fetchCivicInfoData = async (url) => {\n    const response = await fetch(url);\n    if (!response.ok) {\n        throw new Error(`HTTP error. Status: ${response.status}`);\n    }\n    return response.json();\n};\n\nconst reshapeCivicInfoData = (data) => {\n\n    function extractDistrictNumber(inputString) {\n        const cdSection = inputString.split(\"cd:\");\n        if (cdSection.length === 2) {\n            return parseInt(cdSection[1], 10);\n        }\n        else if (!inputString.includes(\"cd:\")) {\n            return \"At-Large\";\n        }\n        return null;\n    }\n\n    return {\n        representative: {\n            name: data.officials[0].name,\n            party: data.officials[0].party,\n            urls: data.officials[0].urls,\n            channels: data.officials[0].channels,\n            office: data.offices[0].name,\n            district: extractDistrictNumber(data.offices[0].divisionId),\n            state: data.normalizedInput.state,\n        },\n    };\n};\n\nconst getCivicInfoData = async (address) => {\n    try {\n        const data = await fetchCivicInfoData(`${process.env.REACT_APP_API_URL}/api/civic_info/${address}`);\n        return reshapeCivicInfoData(data);\n    } catch (error) {\n        console.error('Error fetching data:', error);\n        return {\n            representative: {},\n            error: true,\n            errorMessage: error.message\n        };\n    };\n};\n\nexport default getCivicInfoData;\n"],"mappings":"AAAA,KAAM,CAAAA,kBAAkB,CAAG,KAAO,CAAAC,GAAG,EAAK,CACtC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACF,GAAG,CAAC,CACjC,GAAI,CAACC,QAAQ,CAACE,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,wBAAAC,MAAA,CAAwBJ,QAAQ,CAACK,MAAM,CAAE,CAAC,CAC7D,CACA,MAAO,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAC,oBAAoB,CAAIC,IAAI,EAAK,CAEnC,QAAS,CAAAC,qBAAqBA,CAACC,WAAW,CAAE,CACxC,KAAM,CAAAC,SAAS,CAAGD,WAAW,CAACE,KAAK,CAAC,KAAK,CAAC,CAC1C,GAAID,SAAS,CAACE,MAAM,GAAK,CAAC,CAAE,CACxB,MAAO,CAAAC,QAAQ,CAACH,SAAS,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,CACrC,CAAC,IACI,IAAI,CAACD,WAAW,CAACK,QAAQ,CAAC,KAAK,CAAC,CAAE,CACnC,MAAO,UAAU,CACrB,CACA,MAAO,KAAI,CACf,CAEA,MAAO,CACHC,cAAc,CAAE,CACZC,IAAI,CAAET,IAAI,CAACU,SAAS,CAAC,CAAC,CAAC,CAACD,IAAI,CAC5BE,KAAK,CAAEX,IAAI,CAACU,SAAS,CAAC,CAAC,CAAC,CAACC,KAAK,CAC9BC,IAAI,CAAEZ,IAAI,CAACU,SAAS,CAAC,CAAC,CAAC,CAACE,IAAI,CAC5BC,QAAQ,CAAEb,IAAI,CAACU,SAAS,CAAC,CAAC,CAAC,CAACG,QAAQ,CACpCC,MAAM,CAAEd,IAAI,CAACe,OAAO,CAAC,CAAC,CAAC,CAACN,IAAI,CAC5BO,QAAQ,CAAEf,qBAAqB,CAACD,IAAI,CAACe,OAAO,CAAC,CAAC,CAAC,CAACE,UAAU,CAAC,CAC3DC,KAAK,CAAElB,IAAI,CAACmB,eAAe,CAACD,KAChC,CACJ,CAAC,CACL,CAAC,CAED,KAAM,CAAAE,gBAAgB,CAAG,KAAO,CAAAC,OAAO,EAAK,CACxC,GAAI,CACA,KAAM,CAAArB,IAAI,CAAG,KAAM,CAAAV,kBAAkB,IAAAM,MAAA,CAAI0B,OAAO,CAACC,GAAG,CAACC,iBAAiB,qBAAA5B,MAAA,CAAmByB,OAAO,CAAE,CAAC,CACnG,MAAO,CAAAtB,oBAAoB,CAACC,IAAI,CAAC,CACrC,CAAE,MAAOyB,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5C,MAAO,CACHjB,cAAc,CAAE,CAAC,CAAC,CAClBiB,KAAK,CAAE,IAAI,CACXE,YAAY,CAAEF,KAAK,CAACG,OACxB,CAAC,CACL,CAAC,CACL,CAAC,CAED,cAAe,CAAAR,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}